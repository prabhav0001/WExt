<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WA AutoConnect</title>
    <style>
        :root {
            /* MODERN JET BLACK THEME */
            --bg-dark: #0a0a0a;
            --bg-card: #171717;
            --bg-input: #000000;
            --text-main: #ededed;
            --text-muted: #a3a3a3;
            --primary: #25D366; /* WhatsApp Green */
            --primary-hover: #128C7E;
            --accent: #3b82f6;
            --border: #333333;
            --danger: #ef4444;
        }

        /* RESET & SCROLLBAR */
        * { box-sizing: border-box; }
        ::-webkit-scrollbar { width: 4px; }
        ::-webkit-scrollbar-track { background: var(--bg-dark); }
        ::-webkit-scrollbar-thumb { background: #404040; border-radius: 2px; }
        ::-webkit-scrollbar-thumb:hover { background: #555; }

        /* BODY */
        body {
            width: 380px; min-height: 600px;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: var(--bg-dark);
            color: var(--text-main);
            margin: 0; padding: 0;
            overflow-x: hidden;
            font-size: 14px;
            letter-spacing: -0.01em;
        }

        /* HEADER */
        .header {
            background: rgba(10, 10, 10, 0.95);
            backdrop-filter: blur(12px);
            padding: 16px 20px;
            display: flex; justify-content: space-between; align-items: center;
            border-bottom: 1px solid var(--border);
            position: sticky; top: 0; z-index: 100;
        }
        .logo {
            font-size: 16px; font-weight: 700; color: var(--text-main);
            display: flex; align-items: center; gap: 8px;
        }
        .logo::before {
            content: ''; display: block; width: 10px; height: 10px;
            background: var(--primary); border-radius: 50%;
            box-shadow: 0 0 10px var(--primary);
        }
        .version {
            font-size: 10px; color: var(--text-muted);
            background: #262626; padding: 2px 8px; border-radius: 12px; border: 1px solid #333;
        }

        /* TABS */
        .tabs {
            display: flex; background: var(--bg-card); padding: 4px; margin: 16px;
            border-radius: 12px; border: 1px solid var(--border);
        }
        .tab {
            flex: 1; text-align: center; padding: 10px; font-size: 13px; font-weight: 500;
            cursor: pointer; color: var(--text-muted); border-radius: 8px; transition: all 0.2s ease;
        }
        .tab:hover { color: var(--text-main); }
        .tab.active {
            background: #262626; color: var(--primary);
            font-weight: 600; box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }

        /* CONTENT */
        .content-section { display: none; padding: 0 16px 20px 16px; animation: fadeIn 0.4s ease; }
        .content-section.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }

        /* CARDS */
        .card {
            background: var(--bg-card); border-radius: 14px; padding: 16px;
            margin-bottom: 16px; border: 1px solid var(--border);
        }
        .label {
            font-size: 11px; text-transform: uppercase; letter-spacing: 0.8px; color: var(--text-muted);
            font-weight: 600; margin-bottom: 12px; display: flex; justify-content: space-between; align-items: center;
        }

        /* INPUTS */
        textarea, input[type="text"], input[type="number"], select {
            width: 100%; background: var(--bg-input); border: 1px solid var(--border);
            border-radius: 8px; color: var(--text-main); padding: 12px; font-family: inherit;
            font-size: 13px; transition: all 0.2s; outline: none;
        }
        textarea:focus, input:focus, select:focus { border-color: var(--primary); box-shadow: 0 0 0 2px rgba(37, 211, 102, 0.1); }

        textarea { resize: vertical; min-height: 80px; }

        /* FILE BOX */
        .file-box {
            border: 1px dashed #404040; border-radius: 10px; padding: 24px;
            text-align: center; cursor: pointer; transition: all 0.2s;
            background: #121212; margin-bottom: 12px;
        }
        .file-box:hover { border-color: var(--primary); background: rgba(37, 211, 102, 0.03); }
        .file-icon { font-size: 24px; margin-bottom: 8px; display: block; opacity: 0.7; }
        .file-text { font-size: 13px; color: var(--text-muted); pointer-events: none; }

        /* BUTTONS */
        .btn-main {
            width: 100%; background: var(--primary);
            border: none; padding: 14px; color: #000; font-weight: 700; border-radius: 10px;
            cursor: pointer; font-size: 14px; letter-spacing: 0.5px;
            transition: transform 0.1s, filter 0.2s;
        }
        .btn-main:active { transform: scale(0.98); }
        .btn-main:hover { filter: brightness(1.1); }

        .btn-danger {
            background: #262626; color: var(--danger); border: 1px solid var(--danger);
            margin-top: 12px;
        }
        .btn-danger:hover { background: var(--danger); color: white; }

        .btn-secondary {
            background: #262626; color: var(--text-main); border: 1px solid var(--border);
            padding: 10px; width: 100%; border-radius: 8px; cursor: pointer; font-size: 13px;
            margin-bottom: 12px; font-weight: 500; transition: all 0.2s;
        }
        .btn-secondary:hover { background: #333; }

        /* TOOLBAR */
        .toolbar {
            display: flex; gap: 4px; margin-bottom: 10px; background: #000;
            padding: 4px; border-radius: 8px; border: 1px solid var(--border);
        }
        .tool-btn {
            flex: 1; background: transparent; border: none; color: var(--text-muted);
            height: 30px; border-radius: 6px; cursor: pointer; font-size: 13px; transition: 0.2s;
        }
        .tool-btn:hover { background: #262626; color: var(--text-main); }
        .template-row { display: flex; gap: 8px; margin-bottom: 12px; }
        .icon-btn {
            background: #262626; border: 1px solid var(--border); color: var(--text-muted); width: 36px;
            border-radius: 8px; cursor: pointer; display: flex; align-items: center; justify-content: center;
            transition: 0.2s;
        }
        .icon-btn:hover { background: #333; color: var(--text-main); border-color: #555; }

        /* EDITOR */
        .editor-box {
            min-height: 100px; max-height: 150px; overflow-y: auto; background: var(--bg-input);
            border: 1px solid var(--border); border-radius: 8px; padding: 12px; font-size: 14px;
            outline: none; line-height: 1.6; white-space: pre-wrap; color: var(--text-main);
        }
        .editor-box:focus { border-color: var(--primary); }

        /* SETTINGS & HISTORY */
        .setting-row { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; font-size: 13px; color: var(--text-muted); }
        .setting-row input { width: 70px; text-align: center; padding: 8px; }

        .history-item {
            background: #262626; padding: 12px; margin-bottom: 8px; border-radius: 8px;
            font-size: 13px; display: flex; justify-content: space-between; align-items: center; border: 1px solid var(--border);
        }
        .history-item:hover { border-color: #555; }

        /* UTILS */
        .link-text { color: var(--primary); text-decoration: none; font-size: 11px; cursor: pointer; font-weight: 600; opacity: 0.8; }
        .link-text:hover { opacity: 1; }

        #emoji-picker {
            display: none; position: absolute; bottom: 45px; right: 0;
            width: 240px; height: 180px; background: var(--bg-card); border: 1px solid var(--border);
            border-radius: 12px; padding: 8px; overflow-y: auto;
            grid-template-columns: repeat(6, 1fr); gap: 4px; z-index: 50;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }

        .emoji-item { cursor: pointer; padding: 6px; font-size: 18px; text-align: center; border-radius: 4px; }
        .emoji-item:hover { background: #333; }

        .btn-dl-csv {
             background: transparent; border: 1px solid var(--border); color: var(--primary);
             padding: 4px 10px; border-radius: 6px; cursor: pointer; font-size: 11px;
        }
        .btn-dl-csv:hover { background: var(--primary); color: #000; font-weight: bold; }
    </style>
</head>
<body>
    <div class="header">
        <div class="logo">WA AutoConnect</div>
        <div class="version">v.1.0 Beta</div>
    </div>

    <div class="tabs">
        <div class="tab active" data-tab="tab-compose">üì¢ Compose</div>
        <div class="tab" data-tab="tab-settings">‚öôÔ∏è Settings</div>
        <div class="tab" data-tab="tab-history">üìú History</div>
    </div>

    <div id="tab-compose" class="content-section active">
        <div class="card">
            <span class="label">
                Step 1: Add Numbers
                <a id="downloadTemplate" class="link-text">‚¨á CSV Template</a>
            </span>
            <button id="extractBtn" class="btn-secondary">üì• Grab Group Members</button>

            <div class="file-box" id="upload-box">
                <span class="file-icon">üìÇ</span>
                <span class="file-text" id="file-name">Click to Upload CSV / Excel</span>
            </div>
            <input type="file" id="csvFile" accept=".csv, .txt, .xlsx" style="display: none;">

            <textarea id="manual-numbers" placeholder="Paste numbers here (comma separated)..."></textarea>

            <div style="display:flex; justify-content:space-between; margin-top:10px;">
                <button id="btn-clean-numbers" style="background:none; border:none; color:var(--primary); cursor:pointer; font-size:11px;">‚ú® Clean & Filter</button>
                <span id="total-contacts-display" style="font-size:11px; color:var(--text-muted);">Total: 0</span>
            </div>
        </div>

        <div class="card">
            <span class="label">Step 2: Message</span>

            <div class="template-row">
                <select id="templateSelect"><option value="">üìÇ Load Template...</option></select>
                <button class="icon-btn" id="btnSaveTemp" title="Save">üíæ</button>
                <button class="icon-btn" id="btnDelTemp" title="Delete">üóëÔ∏è</button>
            </div>

            <div class="toolbar" style="position: relative;">
                <button class="tool-btn" id="btn-bold" title="Bold"><b>B</b></button>
                <button class="tool-btn" id="btn-italic" title="Italic"><i>I</i></button>
                <button class="tool-btn" id="btn-strike" title="Strike"><s>S</s></button>
                <button class="tool-btn" id="btn-add-name" title="Add Name Variable">{name}</button>
                <button class="tool-btn" id="btn-emoji" title="Insert Emoji">üòä</button>

                <div id="emoji-picker"></div>
            </div>

            <div id="message-editor" class="editor-box" contenteditable="true" placeholder="Type message here... Spintax {Hi|Hello} supported."></div>
        </div>

        <div class="card">
            <span class="label">Step 3: Attachment</span>
            <div class="file-box" id="media-upload-box">
                <span class="file-icon">üì∑</span>
                <span class="file-text" id="media-file-name">Click to Upload Image/Video</span>
            </div>
            <input type="file" id="media-file" style="display: none;">
        </div>

        <button id="start-btn" class="btn-main">üöÄ START CAMPAIGN</button>
        <button id="reset-btn" class="btn-main btn-danger">‚èπÔ∏è STOP</button>
    </div>

    <div id="tab-settings" class="content-section">
        <div class="card">
            <span class="label">Time Delay (Seconds)</span>
            <div class="setting-row">
                <span>Min Delay:</span>
                <input type="number" id="min-gap" value="5">
            </div>
            <div class="setting-row">
                <span>Max Delay:</span>
                <input type="number" id="max-gap" value="10">
            </div>
            <p style="font-size:10px; color:var(--text-muted); margin-top:10px;">Time settings are saved automatically.</p>
        </div>
    </div>

    <div id="tab-history" class="content-section">
        <div class="card">
             <span class="label">Recent Broadcasts <button id="refresh-history" style="background:none; border:none; color:var(--primary); cursor:pointer; float:right;">‚Üª</button></span>
             <div id="history-list" style="margin-top:10px; color:var(--text-muted); font-size:11px;">Loading...</div>
        </div>
    </div>

    <script src="popup.js"></script>
</body>
</html>




